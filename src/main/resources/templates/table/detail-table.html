<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<!-- Content 2 - table -->
<div th:fragment="detail_table(data)" id="detail_table" class="d-none">
    <table class="table table-striped table-bordered text-nowrap">
        <thead class="text-bg-success bg-gradient border-0">
        <tr>
            <th scope="col">Search Keywords</th>
            <th scope="col">Display Keywords</th>
            <th scope="col">Platform</th>
            <th scope="col">Match Pattern</th>
            <th scope="col" th:each="day : ${#numbers.sequence(1, daysInMonth)}" th:text="${day}"></th>
        </tr>
        </thead>
        <tbody class="table-group-divider">
        <tr th:each="searchResult : ${data.getContent()}">
            <th scope="row" th:text="${searchResult.searchKeyword}">Viá»‡t Nam</th>
            <td>
                <span th:each="kw : ${searchResult.matchKeywords.split(', ')}">
                    <span th:text="${kw}"></span><br/>
                </span>
            </td>
            <td th:text="${searchResult.platform.name() + (searchResult.isPC ? ' - PC' : ' - Mobile')}">GOOGLE</td>
            <td th:text="${searchResult.isAllMatch ? 'All Match' : 'Partial Match'}">Partial Match</td>
            <td th:each="day : ${#numbers.sequence(1, daysInMonth)}">
                <div th:each="result, iter : ${searchResult.searchResults}">
                    <div th:if="${result.createdAt.dayOfMonth == day }">
                        <div th:if="${iter.last || searchResult.searchResults[iter.index + 1].createdAt.dayOfMonth != day}">
                            <a href="javascript:void(0)" th:data-image="${'/screenshots/' + result.urlScreenshot}" class="modal-link-image">
                                <i class="bi bi-image"  ></i>
                            </a> <br/>
                            <span th:each="suggestedKeyword : ${result.suggestedKeywords}">
                            <span th:class="${suggestedKeyword.isMatching ? 'text-danger' : ''}" th:text="${suggestedKeyword.keyword}"></span><br/>
                        </span>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>